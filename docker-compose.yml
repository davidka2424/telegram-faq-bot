# version: '3.8'

# services:
#   telegram-bot:
#     build: .
#     container_name: telegram-faq-bot
#     restart: always
#     volumes:
#       - bot_data:/app/data
#     environment:
#       - BOT_TOKEN=${BOT_TOKEN}
#     logging:
#       driver: "json-file"
#       options:
#         max-size: "10m"
#         max-file: "3"

# volumes:
#   bot_data:





version: '3.8'

services:
  telegram-bot:
    build: .
    container_name: telegram-faq-bot
    restart: always
    volumes:
      - ./data:/app/data  # –ú–æ–Ω—Ç–∏—Ä—É–µ–º –ø–∞–ø–∫—É data
    environment:
      - BOT_TOKEN=${BOT_TOKEN}
    command: >
      sh -c "
        echo 'üîÑ –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏...' &&
        python scripts/fill_sample_data.py &&
        echo '‚úÖ –ë–∞–∑–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, –∑–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞...' &&
        python src/bot.py
      "
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"